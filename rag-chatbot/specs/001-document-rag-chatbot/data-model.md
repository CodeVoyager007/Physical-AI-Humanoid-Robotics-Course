# Data Model: Document RAG Chatbot

## 1. Markdown Document

Represents a single Markdown file ingested from the `../book/docs` directory.

-   **Fields**:
    -   `id`: Unique identifier (e.g., hash of content or path).
    -   `path`: File path relative to `../book/docs`.
    -   `content`: Full text content of the Markdown file.
    -   `checksum`: Hash of the content to detect changes.

## 2. Vector Embedding

Represents the vector representation of a chunk of a Markdown document.

-   **Fields**:
    -   `id`: Unique identifier for the embedding (e.g., UUID).
    -   `document_id`: Reference to the original Markdown Document `id`.
    -   `text_chunk`: The specific text segment from the Markdown document that was embedded.
    -   `embedding_vector`: The numerical vector representation generated by `text-embedding-004`.
    -   `metadata`: Additional context (e.g., page number, section title) for retrieval.

## 3. Qdrant Collection

The collection within Qdrant that stores the `Vector Embedding` entities.

-   **Fields**:
    -   `name`: Name of the collection (e.g., `rag-chatbot-docs`).
    -   `vectors`: Stores `embedding_vector` and `metadata`.

## 4. Chat Conversation

Represents a single turn in a chat interaction.

-   **Fields**:
    -   `query`: The user's input question.
    -   `response`: The chatbot's generated answer.
    -   `context_used`: List of `Vector Embedding` `id`s used to formulate the response.
    -   `timestamp`: Time of the interaction.
